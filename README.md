# Таблица

## Команды

**Установка пакетов (необходимо иметь установленный менеджер пакетов npm)**

`npm install`

**Запуск в тестовом режиме (сайт откроется на http://localhost:5173)**

`npm run start`

**Создание билда (после интеграции с реальным api)**

`npm run build`

## Инструкция

Здесь будут описаны основные моменты, на которые следует обратить внимание.

### Моковые данные

Проект использует "фейковую" базу данных для имитации получения данных - _json-server_. Этот пакет также позволяет
делать запросы (get, post put, delete).

### Запросы

Для запросов используется библиотека `RTK Query`. Сами запросы содержатся в файле api по
пути `src/store/api/mainApi.js`.

1. `getRows` => здесь происходит также формирование фильтров и сортировки, которые являются параметрами запроса.
   Привязываться к этому не стоит, т.к. данный способ формирования запроса подходит только для фейковой базы данных -
   тут нужно привязываться к вашему api.
2. `updateRow`, `createRow`, `deleteRow`, => соответственно, PUT, POST и DELETE запросы. Из аргумента вытягиваются все
   параметры исключительно для наглядности, можно прокидывать аргумент в тело запроса без деструктуризации.
3. `getRowInfo` => получение информации об одной строке
4. `getSelects` => получение опций для выпадающего списка

Поля в запросах `providesTags` и `invalidatesTags` ответственны за автоматическое обновление данных с сервера (например,
при обновлении или удалении строки данные по всем строкам обновляются)

Подробнее про RTK Query: https://redux-toolkit.js.org/rtk-query/overview

### Таблицы: колонки и поля

Всего есть две таблицы, по одной на каждой странице. Массив данных для отображения передает в компонент `<Table />`.
Колонки прописываются в константах `columns`.

1. Поле `dataIndex` служит для идентификации данных с колонкой (т.е. если в массиве данных объекты, у которых есть,
   допустим, поле `completed`, то значение этого поля будет отображено в колонке с `dataIndex: 'completed`' ).
2. Поле `sorter: true` для колонки указывает, что здесь возможна сортировка.
3. Поле `editable: true` для колонки указывает, что поле можно редактировать.
3. Поле `filters: []` для колонки задает набор фильтров.
4. Поле `render` служит для кастомной отрисовки ячейки.
